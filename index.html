<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Blues Improv</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<div class='title'>
  <h1>Welcome!</h1>
  <h4>
    <p>Step 1: Choose a video</p>
    <p>Step 2: Use your keyboard to jam!</p>
  </h4>
</div>

<div class='videos'>
  <iframe width="400" height='120' src="https://www.youtube.com/embed/1Tu_oGYQN14" frameborder="0" allowfullscreen></iframe>
  <iframe width="400" height="120" src="https://www.youtube.com/embed/4i7h5-PPHHk" frameborder="0" allowfullscreen></iframe>
  <iframe width="400" height="120" src="https://www.youtube.com/embed/ZbIcZHuZrFw" frameborder="0" allowfullscreen></iframe>
</div>

<p></p>
<div class='keyboard'>
  <div data-key="81" class="piano-black">
    <kbd>Q</kbd>
    <span class="sound">B♭</span>
  </div>
  <div data-key="87" class="piano-black">
    <kbd>W</kbd>
    <span class="sound">B</span>
  </div>
  <div data-key="69" class="piano-black">
    <kbd>E</kbd>
    <span class="sound">D</span>
  </div>
  <div data-key="82" class="piano-black">
    <kbd>R</kbd>
    <span class="sound">E</span>
  </div>
  <div data-key="84" class="piano-black">
    <kbd>T</kbd>
    <span class="sound">G</span>
  </div>
  <div data-key="89" class="piano-black">
    <kbd>Y</kbd>
    <span class="sound">A</span>
  </div>
  <div data-key="85" class="piano-black">
    <kbd>U</kbd>
    <span class="sound">B♭</span>
  </div>
  <div data-key="73" class="piano-black">
    <kbd>I</kbd>
    <span class="sound">B</span>
  </div>
  <div data-key="79" class="piano-black">
    <kbd>O</kbd>
    <span class="sound">D</span>
  </div>
  <div data-key="80" class="piano-black">
    <kbd>P</kbd>
    <span class="sound">E</span>
  </div>
</div>

<p></p>
<div class='keyboard'>
  <div data-key="65" class="piano-black">
    <kbd>A</kbd>
    <span class="sound">G</span>
  </div>
  <div data-key="83" class="piano-black">
    <kbd>S</kbd>
    <span class="sound">A</span>
  </div>
  <div data-key="68" class="piano-black">
    <kbd>D</kbd>
    <span class="sound">B♭</span>
  </div>
  <div data-key="70" class="piano-black">
    <kbd>F</kbd>
    <span class="sound">B</span>
  </div>
  <div data-key="71" class="piano-black">
    <kbd>G</kbd>
    <span class="sound">D</span>
  </div>
  <div data-key="72" class="piano-black">
    <kbd>H</kbd>
    <span class="sound">E</span>
  </div>
  <div data-key="74" class="piano-black">
    <kbd>J</kbd>
    <span class="sound">G</span>
  </div>
  <div data-key="75" class="piano-black">
    <kbd>K</kbd>
    <span class="sound">A</span>
  </div>
  <div data-key="76" class="piano-black">
    <kbd>L</kbd>
    <span class="sound">B♭</span>
  </div>
</div>

<p></p>

<div class='keyboard'>
  <div data-key="90" class="piano-black">
    <kbd>Z</kbd>
    <span class="sound">B</span>
  </div>
  <div data-key="88" class="piano-black">
    <kbd>X</kbd>
    <span class="sound">D</span>
  </div>
  <div data-key="67" class="piano-black">
    <kbd>C</kbd>
    <span class="sound">E</span>
  </div>
  <div data-key="86" class="piano-black">
    <kbd>V</kbd>
    <span class="sound">G</span>
  </div>
  <div data-key="66" class="piano-black">
    <kbd>B</kbd>
    <span class="sound">A</span>
  </div>
  <div data-key="78" class="piano-black">
    <kbd>N</kbd>
    <span class="sound">B♭</span>
  </div>
  <div data-key="77" class="piano-black">
    <kbd>M</kbd>
    <span class="sound">B</span>
  </div>
</div>

<br></br>
<p class='small-font title'>Not working? Download <a href='https://www.google.com/chrome/' target="_blank">Chrome</a> or <a href='https://www.mozilla.org/firefox' target="_blank">Firefox!</a> and try again!</p>

<br></br><br></br>
<div class='bottom'>
  Created by <a href='http://www.jonkim.me' target="_blank">Jon Kim</a>
</div>


  <audio data-key="81" src="sounds/014.wav"></audio>
  <audio data-key="87" src="sounds/015.wav"></audio>
  <audio data-key="69" src="sounds/018.wav"></audio>
  <audio data-key="82" src="sounds/020.wav"></audio>
  <audio data-key="84" src="sounds/023.wav"></audio>
  <audio data-key="89" src="sounds/025.wav"></audio>
  <audio data-key="85" src="sounds/026.wav"></audio>
  <audio data-key="73" src="sounds/027.wav"></audio>
  <audio data-key="79" src="sounds/030.wav"></audio>

  <audio data-key="80" src="sounds/032.wav"></audio>
  <audio data-key="65" src="sounds/035.wav"></audio>
  <audio data-key="83" src="sounds/037.wav"></audio>
  <audio data-key="68" src="sounds/038.wav"></audio>
  <audio data-key="70" src="sounds/039.wav"></audio>
  <audio data-key="71" src="sounds/042.wav"></audio>
  <audio data-key="72" src="sounds/044.wav"></audio>
  <audio data-key="74" src="sounds/047.wav"></audio>
  <audio data-key="75" src="sounds/049.wav"></audio>
  <audio data-key="76" src="sounds/050.wav"></audio>

  <audio data-key="90" src="sounds/051.wav"></audio>
  <audio data-key="88" src="sounds/054.wav"></audio>
  <audio data-key="67" src="sounds/056.wav"></audio>
  <audio data-key="86" src="sounds/059.wav"></audio>
  <audio data-key="66" src="sounds/061.wav"></audio>
  <audio data-key="78" src="sounds/062.wav"></audio>
  <audio data-key="77" src="sounds/063.wav"></audio>


<script>

  window.addEventListener('keydown', (event) => {
    console.log('keycode:', event.keyCode);
    const audioFiles = document.querySelector(`audio[data-key="${event.keyCode}"`);
    const key = document.querySelector(`div[data-key="${event.keyCode}"]`);
    console.log('audioFiles:', audioFiles);
    console.log('key:', key);
    if (!audioFiles || !key) return;
    audioFiles.currentTime = 0;
    audioFiles.play();
    console.log('key:', key)
    key.classList.add('playing');
  })
  
  function removeTransition(input) {
    if (input.propertyName !== 'transform') return;
    this.classList.remove('playing');
  }
  function removePianoWhite(input) {
    if (input.propertyName !== 'transform') return;
    this.classList.remove('playing');
  }
  function removePianoBlack(input) {
    if (input.propertyName !== 'transform') return;
    this.classList.remove('playing');
  }

  const keysBlack = document.querySelectorAll('.piano-black');
  keysBlack.forEach((key) => key.addEventListener('transitionend', removePianoBlack));



</script>


</body>
</html>
